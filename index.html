<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>New Year Sale</title>
  <meta name="description" content="some text">
  <meta name="keywords" content="some, text">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <title>New Year Sale</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<div class="wrapper">

  <div class="container">
    <div class="main-text">
      <h1 class="main-text__title">New Year Sale</h1>
      <div class="main-text__devider"></div>
      <p class="main-text__descrition">click on the toy<br>
        and take the discount<br>
        off the <b>Christmas tree</b></p>
    </div>

    <div class="tree">
      <div class="tree__inner">
        <img src="img/tree.svg" alt="tree">
        <div class="tree-toy tree-toy--one">
          <div class="tree-toy__text">40<span>%</span></div>
        </div>
        <div class="tree-toy tree-toy--two">
          <div class="tree-toy__text">30<span>%</span></div>
        </div>
        <div class="tree-toy tree-toy--three">
          <div class="tree-toy__text">25<span>%</span></div>
        </div>
        <div class="tree-toy tree-toy--four">
          <div class="tree-toy__text">30<span>%</span></div>
        </div>
        <div class="tree-toy tree-toy--five">
          <div class="tree-toy__text">30<span>%</span></div>
        </div>
      </div>
    </div>
  </div>

  <div class="tree-card">
    <div class="tree-card__close">
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1 1L11 11" stroke="#81859C" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M11 1L1 11" stroke="#81859C" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
    <div class="tree-card__title"></div>
    <div class="tree-card__text"></div>
    <a href="#" class="tree-card__btn">
      <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="8.5" cy="28.5" r="2.5" fill=""/>
        <circle cx="23.5" cy="28.5" r="2.5" fill=""/>
        <path
            d="M4.73684 21.5263H3.73684V22.5263H4.73684V21.5263ZM24.2601 14.2028L23.3918 13.7067L24.2601 14.2028ZM28.4211 20.5263H4.73684V22.5263H28.4211V20.5263ZM20.5263 16.2105H22.5236V14.2105H20.5263V16.2105ZM25.1283 14.6989L30.4408 5.4021L28.7043 4.40982L23.3918 13.7067L25.1283 14.6989ZM4.73684 21.5263C5.73684 21.5263 5.73684 21.5267 5.73684 21.527C5.73684 21.5271 5.73684 21.5273 5.73684 21.5275C5.73684 21.5278 5.73684 21.528 5.73684 21.5281C5.73684 21.5283 5.73684 21.5282 5.73684 21.5277C5.73685 21.5267 5.73687 21.5242 5.73691 21.5203C5.73701 21.5125 5.73722 21.4991 5.73769 21.4804C5.73862 21.443 5.74058 21.3846 5.74466 21.3084C5.75284 21.1557 5.76947 20.9328 5.80313 20.6635C5.8711 20.1197 6.00542 19.4125 6.26528 18.7195C6.52669 18.0224 6.89515 17.3931 7.39956 16.9448C7.88333 16.5148 8.53533 16.2105 9.47368 16.2105V14.2105C8.04362 14.2105 6.9193 14.6958 6.07083 15.45C5.24301 16.1858 4.72331 17.1355 4.39262 18.0173C4.06037 18.9033 3.89863 19.775 3.81858 20.4154C3.77823 20.7383 3.75785 21.0088 3.74753 21.2014C3.74236 21.2979 3.73969 21.3753 3.73831 21.4304C3.73762 21.458 3.73725 21.48 3.73706 21.4961C3.73696 21.5042 3.73691 21.5107 3.73688 21.5158C3.73686 21.5183 3.73685 21.5205 3.73685 21.5222C3.73685 21.5231 3.73684 21.5239 3.73684 21.5246C3.73684 21.5249 3.73684 21.5253 3.73684 21.5255C3.73684 21.5259 3.73684 21.5263 4.73684 21.5263ZM3.29532 0H0V2H3.29532V0ZM9.47368 16.2105H20.5263V14.2105H9.47368V16.2105ZM10.4224 14.8943L6.73816 3.84167L4.84079 4.47412L8.525 15.5268L10.4224 14.8943ZM6.73816 3.84167L6.14137 2.05132L4.24401 2.68377L4.84079 4.47412L6.73816 3.84167ZM29.1384 3.15789H5.78947V5.15789H29.1384V3.15789ZM3.29532 2C3.72575 2 4.10789 2.27543 4.24401 2.68377L6.14137 2.05132C5.73303 0.82629 4.58662 0 3.29532 0V2ZM30.4408 5.4021C31.0122 4.40211 30.2901 3.15789 29.1384 3.15789V5.15789C28.7545 5.15789 28.5138 4.74316 28.7043 4.40982L30.4408 5.4021ZM22.5236 16.2105C23.6001 16.2105 24.5942 15.6337 25.1283 14.6989L23.3918 13.7067C23.2138 14.0182 22.8824 14.2105 22.5236 14.2105V16.2105Z"
            fill=""/>
      </svg>
      <span>Add to card</span>
    </a>
  </div>

  <div class="footer-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. In erat tortor, interdum in ex nec,
    sodales convallis est. Pellentesque mattis consequat facilisis
  </div>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous"></script>
<script>

  var cardTexts = [
    {
      title: 'Email Studio <span class="tree-card__discount">-40%</span>',
      text: '6-in-1 email marketing software',
      link: 'www.site-1.com'
    },
    {
      title: 'Lead Extractor <span class="tree-card__discount">-30%</span>',
      text: 'Search for emails and phone numbers',
      link: 'www.site-2.com'
    },
    {
      title: 'Atomic Hunter <span class="tree-card__discount">-25%</span>',
      text: 'Increase sales with the high-quality targeted mailing list',
      link: 'www.site-3.com'
    },
    {
      title: 'Mail Sender <span class="tree-card__discount">-30%</span>',
      text: 'Build effective communication with subscribers',
      link: 'www.site-4.com'
    },
    {
      title: 'Mail Verifier <span class="tree-card__discount">-30%</span>',
      text: 'Increase email servers confidence to your messages',
      link: 'www.site-5.com'
    }
  ];
  $(document).ready(function () {

    function clearAll(){
      $('.tree-toy').removeClass('clicked');
      $('.tree-card').removeClass('tree-card_visible');
    }

    $(document).click(function(event) {
      if (!$('.tree-card')[0].contains(event.target)) {
        clearAll()
      }
    });

    $('.tree-card__close').click(function () {
      clearAll();
    });

    $('.tree-toy').click(function (e) {
      e.stopPropagation();
      if(window.matchMedia("(min-width: 768px)").matches){
        var posX, posY;
        if($(this).hasClass('tree-toy--one')){
          posX = parseInt($(this).offset().left + ($(this).width() / 2)) - ($('.tree-card').outerWidth()/2);
          posY = parseInt($(this).offset().top + ($(this).height()+14));
        }else {
          posX = parseInt($(this).offset().left - 307);
          posY = parseInt($(this).offset().top);
        }
        $('.tree-card').css({'top':posY+'px','left':posX+'px'});
      }
      $('.tree-card__title').html(cardTexts[parseInt($(this).index())-1].title);
      $('.tree-card__text').text(cardTexts[parseInt($(this).index())-1].text);
      $('.tree-card__btn').attr('href', cardTexts[parseInt($(this).index())-1].link);
      if($(this).hasClass('clicked')){
        $('.tree-toy').removeClass('clicked');
        $('.tree-card').removeClass('tree-card_visible');
      }else {
        $('.tree-toy').removeClass('clicked');
        $(this).addClass('clicked');
        $('.tree-card').addClass('tree-card_visible');
      }
    });
    
  })
</script>
</body>
</html>